{% extends 'base.html' %}
{% block title %}Panel Funcionalidades{% endblock %}
{% block content %}
<style>
	.funcionalidades-container {
		max-width: 1200px;
		margin: 0 auto;
		padding: 20px;
	}

	.funcionalidades-header {
		background: linear-gradient(135deg, #FF6B9D 0%, #E75480 100%);
		color: white;
		padding: 50px 30px;
		border-radius: 12px;
		margin-bottom: 40px;
		text-align: center;
		box-shadow: 0 8px 24px rgba(231, 84, 128, 0.2);
	}

	.funcionalidades-header h1 {
		font-family: 'Playfair Display', serif;
		font-size: 2.5rem;
		margin-bottom: 15px;
		font-weight: 700;
	}

	.funcionalidades-header p {
		font-size: 1.1rem;
		opacity: 0.95;
		margin: 0;
	}

	.status-legend {
		display: flex;
		justify-content: center;
		gap: 40px;
		margin-top: 25px;
		flex-wrap: wrap;
	}

	.status-item {
		display: flex;
		align-items: center;
		gap: 10px;
		font-size: 0.95rem;
		font-weight: 600;
	}

	.status-dot {
		width: 14px;
		height: 14px;
		border-radius: 50%;
		flex-shrink: 0;
	}

	.funcionalidades-grid {
		display: grid;
		grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
		gap: 25px;
		margin-top: 0;
	}

	.funcionalidad-card {
		background: white;
		border-radius: 12px;
		padding: 25px;
		box-shadow: 0 2px 12px rgba(0,0,0,0.08);
		transition: all 0.3s ease;
		border-left: 5px solid #E75480;
		display: flex;
		flex-direction: column;
	}

	.funcionalidad-card:hover {
		transform: translateY(-8px);
		box-shadow: 0 12px 32px rgba(231, 84, 128, 0.15);
	}

	.funcionalidad-card h3 {
		font-size: 1.2rem;
		color: #333;
		font-weight: 700;
		margin: 0 0 12px 0;
	}

	.funcionalidad-card p {
		font-size: 0.95rem;
		color: #666;
		line-height: 1.6;
		margin-bottom: 15px;
		flex-grow: 1;
	}

	.status-badge {
		display: inline-block;
		padding: 8px 14px;
		border-radius: 20px;
		font-weight: 600;
		font-size: 0.85rem;
		margin-bottom: 15px;
		text-align: center;
	}

	.status-badge.implementado {
		background: #d4edda;
		color: #155724;
	}

	.status-badge.progreso {
		background: #fff3cd;
		color: #856404;
	}

	.status-badge.pendiente {
		background: #f8d7da;
		color: #721c24;
	}

	.funcionalidad-btn {
		display: inline-block;
		background: linear-gradient(135deg, #FF6B9D 0%, #E75480 100%);
		color: white;
		padding: 12px 20px;
		border-radius: 8px;
		text-decoration: none;
		font-weight: 600;
		font-size: 0.9rem;
		transition: all 0.3s ease;
		text-align: center;
		border: none;
		cursor: pointer;
	}

	.funcionalidad-btn:hover:not(:disabled) {
		background: linear-gradient(135deg, #E75480 0%, #C73860 100%);
		transform: translateY(-3px);
		box-shadow: 0 6px 16px rgba(231, 84, 128, 0.3);
	}

	.funcionalidad-btn:disabled {
		background: #e0e0e0;
		color: #999;
		cursor: not-allowed;
	}

	@media (max-width: 768px) {
		.funcionalidades-container {
			padding: 15px;
		}

		.funcionalidades-header {
			padding: 30px 20px;
		}

		.funcionalidades-header h1 {
			font-size: 1.8rem;
		}

		.funcionalidades-header p {
			font-size: 0.95rem;
		}

		.status-legend {
			gap: 20px;
			margin-top: 20px;
		}

		.status-item {
			font-size: 0.85rem;
		}

		.funcionalidades-grid {
			grid-template-columns: 1fr;
			gap: 20px;
		}

		.funcionalidad-card {
			padding: 20px;
		}

		.funcionalidad-card h3 {
			font-size: 1.1rem;
		}
	}
</style>

<div class="funcionalidades-container">
	<div class="funcionalidades-header">
		<h1>⚙️ Panel de Funcionalidades</h1>
		<p>Resumen del estado de implementación de todas las características del sistema</p>
		<div class="status-legend">
			<div class="status-item">
				<div class="status-dot" style="background-color: #157347;"></div>
				<span>Implementado</span>
			</div>
			<div class="status-item">
				<div class="status-dot" style="background-color: #d39e00;"></div>
				<span>En progreso</span>
			</div>
			<div class="status-item">
				<div class="status-dot" style="background-color: #dc3545;"></div>
				<span>Pendiente</span>
			</div>
		</div>
	</div>

	<div class="funcionalidades-grid">
		{% for f in funcionalidades %}
		<div class="funcionalidad-card">
			<h3>{{ f.nombre }}</h3>
			<p>{{ f.descripcion }}</p>
			{% if f.estado == 'Implementado' %}
				<div class="status-badge implementado">✓ Implementado</div>
			{% elif f.estado == 'En progreso' %}
				<div class="status-badge progreso">⟳ En progreso</div>
			{% else %}
				<div class="status-badge pendiente">✕ Pendiente</div>
			{% endif %}
			{% if f.url %}
				{% if f.clave == 'recetas' %}
					<a href="{% url f.url 1 %}" class="funcionalidad-btn">Ir a la función →</a>
				{% else %}
					<a href="{% url f.url %}" class="funcionalidad-btn">Ir a la función →</a>
				{% endif %}
			{% else %}
				<button disabled class="funcionalidad-btn">Sin vista disponible</button>
			{% endif %}
		</div>
		{% endfor %}
	</div>
</div>
{% endblock %}
